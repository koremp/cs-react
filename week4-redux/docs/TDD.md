# TDD

모든 기능은 TDD로 구현해야 합니다.

* 테스트는 아주 빠르게 우리의 코드에 잘못된 것이 있는지 확인할 수 있는 강력한 도구입니다. 이러한 테스트들은 우리가 코드를 변경할 때 혹은 설계를 개선할 때 무엇이 잘못되었는지 빠르게 확인해주어서 안심하고 코드를 수정할 수 있도록 해줍니다.
* 더 나아가 테스트를 먼저 작성하면, 우리의 코드를 자동으로 확인해 줄 수 있는 자동화된 테스트뿐만 아니라 테스트를 설계의 도구로 활용할 수 있습니다. 왜냐하면 코드를 구현하기 전에 우리의 코드를 어떻게 사용할지 먼저 설계하고 구현을 하기 때문입니다. 테스트를 작성하기 어렵다면, 설계를 다시 개선해야 할 신호로 받아들일 수 있습니다.
* 이러한 연습을 하기 위해서 테스트를 먼저 작성하고 commit을 만듭니다. 그리고 그 테스트를 통과하도록 코드를 구현하고 commit을 만듭니다. 그다음에 구현한 코드를 리팩터링하고 commit을 생성합니다. 따라서 다음과 같이 커밋 로그들이 남아야 합니다.

```log
* 074f5cd - 다른 액션에서도 에러를 보여줄 수 있도록 기능을 추출하는 리팩터링
* 876355e - 레스탈 목록을 가져오지 못했을 때 에러를 보여주도록 구현
* 5730f62 - 레스토랑 목록을 가져오지 못했을 때 액션 테스트
* aacf6d1 - 레스토랑 목록 가져오기를 서비스로 추출하는 리팩터링
* a0c6b42 - 레스토랑 목록을 가져오는 액션을 구현
* 9002bf0 - 레스토랑 목록을 가져오는 액션에 대한 테스트
```

* 여기서 주의할 점은 처음부터 너무 많은 예외 케이스에 대해서 생각하고 미리 테스트를 작성하면 안 됩니다. 모든 게 올바르게 동작하는 것을 가정하는 Happy path에 대해서 먼저 테스트를 작성하고 나서, 구현한 후 예외 케이스를 하나씩 추가해가며 단계적으로 구현하세요. 왜냐하면 처음부터 너무 많은 기능을 생각하거나 예외 케이스를 생각하다 보면 복잡성에 압도되어 구현이 어려워지기 때문입니다.
* 만약 예외적인 처리에 대한 우려사항이 발견된다면, TODO로 목록을 작성해서 미뤄놓고 지금 작업하는 사항에 집중하세요.
* 위 과정을 테스트를 작성하고, 구현하고, 리팩터링 하는 과정이 완전히 숙달되어 커밋을 작성하는 것이 귀찮은 수준이 될때까지 반복합니다. 나중에 익숙해지면 명시적으로 커밋을 만들지 않아도 TDD로 개발을 하는 것에 익숙해질 것입니다.
